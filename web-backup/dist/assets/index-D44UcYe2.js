import{R as fe,r as d,t as me,e as le,c as N,g as pe,m as be,a as ye,f as I,h as ge,C as xe,i as he,k as je,I as Oe,_ as ve,l as M,j as l,D as Se,d as $e,n as Ce,s as Y,o as J}from"./index-ps_LC9pP.js";import{u as we}from"./useQuery-hKhGHq8O.js";import{u as k}from"./useMutation-B4L5bIWH.js";import{P as Ie,M as Z,D as Ee,S as ee,C as Me}from"./index-C4NSdVJi.js";import{d as Ne}from"./device-BocKzIwm.js";import{F as C,B as te}from"./index-lekb2yts.js";import{a as Pe}from"./row-COHH8Rx0.js";import{S as O}from"./index-gmqBHMrU.js";import{I as G}from"./index-CLICSLSb.js";import{P as De}from"./index-zoe9Kp3s.js";import"./utils-km2FGkQ4.js";const Te={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},U=fe.createContext({});var _e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Re=e=>me(e).map(t=>Object.assign(Object.assign({},t==null?void 0:t.props),{key:t.key}));function Le(e,t,r){const n=d.useMemo(()=>t||Re(r),[t,r]);return d.useMemo(()=>n.map(c=>{var{span:o}=c,u=_e(c,["span"]);return o==="filled"?Object.assign(Object.assign({},u),{filled:!0}):Object.assign(Object.assign({},u),{span:typeof o=="number"?o:le(e,o)})}),[n,e])}var Be=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};function Fe(e,t){let r=[],n=[],a=!1,c=0;return e.filter(o=>o).forEach(o=>{const{filled:u}=o,b=Be(o,["filled"]);if(u){n.push(b),r.push(n),n=[],c=0;return}const y=t-c;c+=o.span||1,c>=t?(c>t?(a=!0,n.push(Object.assign(Object.assign({},b),{span:y}))):n.push(b),r.push(n),n=[],c=0):n.push(b)}),n.length>0&&r.push(n),r=r.map(o=>{const u=o.reduce((b,y)=>b+(y.span||1),0);if(u<t){const b=o[o.length-1];return b.span=t-(u-(b.span||1)),o}return o}),[r,a]}const ze=(e,t)=>{const[r,n]=d.useMemo(()=>Fe(t,e),[t,e]);return r},Ve=e=>{let{children:t}=e;return t};function ne(e){return e!=null}const K=e=>{const{itemPrefixCls:t,component:r,span:n,className:a,style:c,labelStyle:o,contentStyle:u,bordered:b,label:y,content:j,colon:w,type:p,styles:x}=e,S=r,E=d.useContext(U),{classNames:f}=E;return b?d.createElement(S,{className:N({[`${t}-item-label`]:p==="label",[`${t}-item-content`]:p==="content",[`${f==null?void 0:f.label}`]:p==="label",[`${f==null?void 0:f.content}`]:p==="content"},a),style:c,colSpan:n},ne(y)&&d.createElement("span",{style:Object.assign(Object.assign({},o),x==null?void 0:x.label)},y),ne(j)&&d.createElement("span",{style:Object.assign(Object.assign({},o),x==null?void 0:x.content)},j)):d.createElement(S,{className:N(`${t}-item`,a),style:c,colSpan:n},d.createElement("div",{className:`${t}-item-container`},(y||y===0)&&d.createElement("span",{className:N(`${t}-item-label`,f==null?void 0:f.label,{[`${t}-item-no-colon`]:!w}),style:Object.assign(Object.assign({},o),x==null?void 0:x.label)},y),(j||j===0)&&d.createElement("span",{className:N(`${t}-item-content`,f==null?void 0:f.content),style:Object.assign(Object.assign({},u),x==null?void 0:x.content)},j)))};function Q(e,t,r){let{colon:n,prefixCls:a,bordered:c}=t,{component:o,type:u,showLabel:b,showContent:y,labelStyle:j,contentStyle:w,styles:p}=r;return e.map((x,S)=>{let{label:E,children:f,prefixCls:D=a,className:T,style:_,labelStyle:B,contentStyle:R,span:L=1,key:m,styles:v}=x;return typeof o=="string"?d.createElement(K,{key:`${u}-${m||S}`,className:T,style:_,styles:{label:Object.assign(Object.assign(Object.assign(Object.assign({},j),p==null?void 0:p.label),B),v==null?void 0:v.label),content:Object.assign(Object.assign(Object.assign(Object.assign({},w),p==null?void 0:p.content),R),v==null?void 0:v.content)},span:L,colon:n,component:o,itemPrefixCls:D,bordered:c,label:b?E:null,content:y?f:null,type:u}):[d.createElement(K,{key:`label-${m||S}`,className:T,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},j),p==null?void 0:p.label),_),B),v==null?void 0:v.label),span:1,colon:n,component:o[0],itemPrefixCls:D,bordered:c,label:E,type:"label"}),d.createElement(K,{key:`content-${m||S}`,className:T,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},w),p==null?void 0:p.content),_),R),v==null?void 0:v.content),span:L*2-1,component:o[1],itemPrefixCls:D,bordered:c,content:f,type:"content"})]})}const Ye=e=>{const t=d.useContext(U),{prefixCls:r,vertical:n,row:a,index:c,bordered:o}=e;return n?d.createElement(d.Fragment,null,d.createElement("tr",{key:`label-${c}`,className:`${r}-row`},Q(a,e,Object.assign({component:"th",type:"label",showLabel:!0},t))),d.createElement("tr",{key:`content-${c}`,className:`${r}-row`},Q(a,e,Object.assign({component:"td",type:"content",showContent:!0},t)))):d.createElement("tr",{key:c,className:`${r}-row`},Q(a,e,Object.assign({component:o?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))},qe=e=>{const{componentCls:t,labelBg:r}=e;return{[`&${t}-bordered`]:{[`> ${t}-view`]:{border:`${I(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"> table":{tableLayout:"auto"},[`${t}-row`]:{borderBottom:`${I(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBottom:"none"},[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${I(e.padding)} ${I(e.paddingLG)}`,borderInlineEnd:`${I(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`> ${t}-item-label`]:{color:e.colorTextSecondary,backgroundColor:r,"&::after":{display:"none"}}}},[`&${t}-middle`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${I(e.paddingSM)} ${I(e.paddingLG)}`}}},[`&${t}-small`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${I(e.paddingXS)} ${I(e.padding)}`}}}}}},Ae=e=>{const{componentCls:t,extraColor:r,itemPaddingBottom:n,itemPaddingEnd:a,colonMarginRight:c,colonMarginLeft:o,titleMarginBottom:u}=e;return{[t]:Object.assign(Object.assign(Object.assign({},ye(e)),qe(e)),{"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",alignItems:"center",marginBottom:u},[`${t}-title`]:Object.assign(Object.assign({},ge),{flex:"auto",color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}),[`${t}-extra`]:{marginInlineStart:"auto",color:r,fontSize:e.fontSize},[`${t}-view`]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse"}},[`${t}-row`]:{"> th, > td":{paddingBottom:n,paddingInlineEnd:a},"> th:last-child, > td:last-child":{paddingInlineEnd:0},"&:last-child":{borderBottom:"none","> th, > td":{paddingBottom:0}}},[`${t}-item-label`]:{color:e.colorTextTertiary,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${I(o)} ${I(c)}`},[`&${t}-item-no-colon::after`]:{content:'""'}},[`${t}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${t}-item-content`]:{display:"table-cell",flex:1,color:e.contentColor,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${t}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${t}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${t}-item-content`]:{display:"inline-flex",alignItems:"baseline",minWidth:"1em"}}},"&-middle":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingXS}}}})}},We=e=>({labelBg:e.colorFillAlter,titleColor:e.colorText,titleMarginBottom:e.fontSizeSM*e.lineHeightSM,itemPaddingBottom:e.padding,itemPaddingEnd:e.padding,colonMarginRight:e.marginXS,colonMarginLeft:e.marginXXS/2,contentColor:e.colorText,extraColor:e.colorText}),He=pe("Descriptions",e=>{const t=be(e,{});return Ae(t)},We);var ke=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const X=e=>{var t,r,n,a,c,o,u,b;const{prefixCls:y,title:j,extra:w,column:p,colon:x=!0,bordered:S,layout:E,children:f,className:D,rootClassName:T,style:_,size:B,labelStyle:R,contentStyle:L,styles:m,items:v,classNames:g}=e,q=ke(e,["prefixCls","title","extra","column","colon","bordered","layout","children","className","rootClassName","style","size","labelStyle","contentStyle","styles","items","classNames"]),{getPrefixCls:s,direction:h,descriptions:i}=d.useContext(xe),$=s("descriptions",y),F=he(),ae=d.useMemo(()=>{var P;return typeof p=="number"?p:(P=le(F,Object.assign(Object.assign({},Te),p)))!==null&&P!==void 0?P:3},[F,p]),ie=Le(F,v,f),A=je(B),re=ze(ae,ie),[de,oe,ce]=He($),ue=d.useMemo(()=>{var P,z,W,H;return{labelStyle:R,contentStyle:L,styles:{content:Object.assign(Object.assign({},(P=i==null?void 0:i.styles)===null||P===void 0?void 0:P.content),m==null?void 0:m.content),label:Object.assign(Object.assign({},(z=i==null?void 0:i.styles)===null||z===void 0?void 0:z.label),m==null?void 0:m.label)},classNames:{label:N((W=i==null?void 0:i.classNames)===null||W===void 0?void 0:W.label,g==null?void 0:g.label),content:N((H=i==null?void 0:i.classNames)===null||H===void 0?void 0:H.content,g==null?void 0:g.content)}}},[R,L,m,g,i]);return de(d.createElement(U.Provider,{value:ue},d.createElement("div",Object.assign({className:N($,i==null?void 0:i.className,(t=i==null?void 0:i.classNames)===null||t===void 0?void 0:t.root,g==null?void 0:g.root,{[`${$}-${A}`]:A&&A!=="default",[`${$}-bordered`]:!!S,[`${$}-rtl`]:h==="rtl"},D,T,oe,ce),style:Object.assign(Object.assign(Object.assign(Object.assign({},i==null?void 0:i.style),(r=i==null?void 0:i.styles)===null||r===void 0?void 0:r.root),m==null?void 0:m.root),_)},q),(j||w)&&d.createElement("div",{className:N(`${$}-header`,(n=i==null?void 0:i.classNames)===null||n===void 0?void 0:n.header,g==null?void 0:g.header),style:Object.assign(Object.assign({},(a=i==null?void 0:i.styles)===null||a===void 0?void 0:a.header),m==null?void 0:m.header)},j&&d.createElement("div",{className:N(`${$}-title`,(c=i==null?void 0:i.classNames)===null||c===void 0?void 0:c.title,g==null?void 0:g.title),style:Object.assign(Object.assign({},(o=i==null?void 0:i.styles)===null||o===void 0?void 0:o.title),m==null?void 0:m.title)},j),w&&d.createElement("div",{className:N(`${$}-extra`,(u=i==null?void 0:i.classNames)===null||u===void 0?void 0:u.extra,g==null?void 0:g.extra),style:Object.assign(Object.assign({},(b=i==null?void 0:i.styles)===null||b===void 0?void 0:b.extra),m==null?void 0:m.extra)},w)),d.createElement("div",{className:`${$}-view`},d.createElement("table",null,d.createElement("tbody",null,re.map((P,z)=>d.createElement(Ye,{key:z,index:z,colon:x,prefixCls:$,vertical:E==="vertical",bordered:S,row:P}))))))))};X.Item=Ve;var Ge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M866.9 169.9L527.1 54.1C523 52.7 517.5 52 512 52s-11 .7-15.1 2.1L157.1 169.9c-8.3 2.8-15.1 12.4-15.1 21.2v482.4c0 8.8 5.7 20.4 12.6 25.9L499.3 968c3.5 2.7 8 4.1 12.6 4.1s9.2-1.4 12.6-4.1l344.7-268.6c6.9-5.4 12.6-17 12.6-25.9V191.1c.2-8.8-6.6-18.3-14.9-21.2zM810 654.3L512 886.5 214 654.3V226.7l298-101.6 298 101.6v427.6zm-405.8-201c-3-4.1-7.8-6.6-13-6.6H336c-6.5 0-10.3 7.4-6.5 12.7l126.4 174a16.1 16.1 0 0026 0l212.6-292.7c3.8-5.3 0-12.7-6.5-12.7h-55.2c-5.1 0-10 2.5-13 6.6L468.9 542.4l-64.7-89.1z"}}]},name:"safety-certificate",theme:"outlined"},Ke=function(t,r){return d.createElement(Oe,ve({},t,{ref:r,icon:Ge}))},Qe=d.forwardRef(Ke);const V={list:async e=>{const{data:t}=await M.get("/api/licenses",{params:e});return t.data},get:async e=>{const{data:t}=await M.get(`/api/licenses/${e}`);return t.data},create:async e=>{const{data:t}=await M.post("/api/licenses",e);return t.data},update:async(e,t)=>{const{data:r}=await M.put(`/api/licenses/${e}`,t);return r.data},delete:async e=>{await M.delete(`/api/licenses/${e}`)},getByCode:async e=>{const{data:t}=await M.get(`/api/licenses/code/${e}`);return t.data},activate:async(e,t)=>{const{data:r}=await M.post("/api/licenses/activate",{code:e,deviceID:t});return r.data},getStats:async()=>{const{data:e}=await M.get("/api/licenses/stats");return e.data},batchCreate:async e=>{const{data:t}=await M.post("/api/licenses/batch",e);return t.data},export:async e=>{const{data:t}=await M.get("/api/licenses/export",{params:e,responseType:"blob"});return t}};function Xe({title:e,width:t=600,visible:r,onClose:n,loading:a=!1,data:c,fields:o}){return l.jsx(Se,{title:e,width:t,open:r,onClose:n,destroyOnClose:!0,children:l.jsx($e,{spinning:a,children:c?l.jsx(X,{column:2,bordered:!0,children:o.map((u,b)=>{const y=c[u.key];let j=y;return u.render&&(j=u.render(y,c)),l.jsx(X.Item,{label:u.label,span:u.span,children:j??"-"},b)})}):l.jsx("div",{style:{textAlign:"center",padding:"30px 0"},children:"暂无数据"})})})}const{RangePicker:se}=Ee;function dt(){const[e]=C.useForm(),t=d.useRef(),[r,n]=d.useState(!1),[a,c]=d.useState(null),[o,u]=d.useState(!1),[b,y]=d.useState(null),[j,w]=d.useState(!1),[p,x]=d.useState(!1),[S]=C.useForm(),E=Ce(),{data:f}=we({queryKey:["devices"],queryFn:async()=>(await Ne.list({page:1,pageSize:1e3})).list}),D=k({mutationFn:s=>V.create(s),onSuccess:()=>{Y.success("许可证创建成功"),n(!1),e.resetFields(),E.invalidateQueries({queryKey:["licenses"]})}}),T=k({mutationFn:({id:s,data:h})=>V.update(s,h),onSuccess:()=>{Y.success("许可证更新成功"),n(!1),c(null),e.resetFields(),E.invalidateQueries({queryKey:["licenses"]})}}),_=k({mutationFn:s=>V.update(s,{status:"revoked"}),onSuccess:()=>{Y.success("许可证已禁用"),u(!1),y(null),E.invalidateQueries({queryKey:["licenses"]})}}),B=async()=>{try{const s=await e.validateFields();D.mutate({...s,startTime:s.dateRange[0].format("YYYY-MM-DD"),expireTime:s.dateRange[1].format("YYYY-MM-DD"),features:s.features||[]})}catch(s){console.error("表单验证失败:",s)}},R=async()=>{if(a)try{const s=await e.validateFields();T.mutate({id:a.id,data:{...s,expireTime:s.dateRange?s.dateRange[1].format("YYYY-MM-DD"):void 0,features:s.features||[]}})}catch(s){console.error("表单验证失败:",s)}},L=()=>{b&&_.mutate(b.id)},m=s=>{c(s),n(!0),e.setFieldsValue({...s,deviceID:s.deviceID||void 0,dateRange:s.startTime&&s.expireTime?[J(s.startTime),J(s.expireTime)]:void 0})},v=s=>{y(s),w(!0)},g=async()=>{try{const s=await S.validateFields();await V.getByCode(s.code)&&(Y.success("许可证有效"),x(!1),S.resetFields())}catch(s){console.error("验证失败:",s)}},q=[{title:"许可证密钥",dataIndex:"key",width:320,copyable:!0,ellipsis:!0},{title:"类型",dataIndex:"type",width:120,valueEnum:{basic:{text:"基础版",status:"Default"},standard:{text:"标准版",status:"Processing"},pro:{text:"专业版",status:"Success"},enterprise:{text:"企业版",status:"Success"},trial:{text:"试用版",status:"Warning"}}},{title:"状态",dataIndex:"status",width:120,valueType:"select",valueEnum:{unused:{text:"未使用",status:"Default"},used:{text:"已使用",status:"Processing"},expired:{text:"已过期",status:"Error"},revoked:{text:"已吊销",status:"Warning"}},render:(s,h)=>l.jsx(ee,{status:h.status})},{title:"设备",dataIndex:"deviceID",width:150,render:(s,h)=>{if(!h.deviceID)return"-";const i=f==null?void 0:f.find($=>$.id===h.deviceID);return i?i.name:h.deviceID}},{title:"开始日期",dataIndex:"startTime",width:120,valueType:"date"},{title:"结束日期",dataIndex:"expireTime",width:120,valueType:"date"},{title:"操作",width:180,valueType:"option",render:(s,h)=>[l.jsx("a",{onClick:()=>v(h),children:"详情"},"detail"),l.jsx("a",{onClick:()=>m(h),children:"编辑"},"edit"),l.jsx("a",{onClick:()=>{y(h),u(!0)},children:"禁用"},"revoke")]}];return l.jsxs(De,{children:[l.jsx(Ie,{headerTitle:"许可证管理",actionRef:t,rowKey:"id",search:{labelWidth:120},toolBarRender:()=>[l.jsx(te,{type:"default",onClick:()=>x(!0),icon:l.jsx(Qe,{}),children:"验证许可证"},"verify"),l.jsx(te,{type:"primary",onClick:()=>{c(null),n(!0),e.resetFields()},icon:l.jsx(Pe,{}),children:"创建许可证"},"create")],request:async s=>{const{current:h,pageSize:i,...$}=s,F=await V.list({page:h,pageSize:i,...$});return{data:F.list,success:!0,total:F.total}},columns:q}),l.jsx(Z,{title:a?"编辑许可证":"创建许可证",open:r,onOk:a?R:B,onCancel:()=>{n(!1),c(null),e.resetFields()},width:600,children:l.jsxs(C,{form:e,layout:"vertical",children:[!a&&l.jsx(C.Item,{name:"type",label:"许可证类型",rules:[{required:!0,message:"请选择许可证类型"}],children:l.jsxs(O,{children:[l.jsx(O.Option,{value:"basic",children:"基础版"}),l.jsx(O.Option,{value:"standard",children:"标准版"}),l.jsx(O.Option,{value:"pro",children:"专业版"}),l.jsx(O.Option,{value:"enterprise",children:"企业版"}),l.jsx(O.Option,{value:"trial",children:"试用版"})]})}),!a&&l.jsx(C.Item,{name:"dateRange",label:"有效期",rules:[{required:!0,message:"请选择有效期"}],children:l.jsx(se,{})}),a&&l.jsx(C.Item,{name:"dateRange",label:"结束日期",children:l.jsx(se,{})}),l.jsx(C.Item,{name:"deviceID",label:"关联设备",children:l.jsx(O,{allowClear:!0,placeholder:"请选择关联设备",children:f==null?void 0:f.map(s=>l.jsx(O.Option,{value:s.id,children:s.name},s.id))})}),l.jsx(C.Item,{name:"features",label:"功能权限",children:l.jsxs(O,{mode:"multiple",placeholder:"请选择功能权限",children:[l.jsx(O.Option,{value:"basic_stats",children:"基础统计"}),l.jsx(O.Option,{value:"advanced_stats",children:"高级统计"}),l.jsx(O.Option,{value:"export",children:"导出数据"}),l.jsx(O.Option,{value:"api_access",children:"API访问"}),l.jsx(O.Option,{value:"admin_panel",children:"管理面板"})]})}),a&&l.jsx(C.Item,{name:"status",label:"状态",children:l.jsxs(O,{children:[l.jsx(O.Option,{value:"unused",children:"未使用"}),l.jsx(O.Option,{value:"used",children:"已使用"}),l.jsx(O.Option,{value:"expired",children:"已过期"}),l.jsx(O.Option,{value:"revoked",children:"已吊销"})]})}),l.jsx(C.Item,{name:"maxDevices",label:"最大设备数",rules:[{required:!a,message:"请输入最大设备数"}],children:l.jsx(G,{type:"number",placeholder:"可激活的最大设备数量"})}),l.jsx(C.Item,{name:"description",label:"备注",children:l.jsx(G.TextArea,{rows:4,placeholder:"请输入备注信息"})})]})}),l.jsx(Xe,{title:"许可证详情",visible:j,onClose:()=>w(!1),data:b,fields:[{label:"授权码",key:"code"},{label:"类型",key:"type",render:s=>({basic:"基础版",standard:"标准版",pro:"专业版",enterprise:"企业版",trial:"试用版"})[s]||s},{label:"状态",key:"status",render:s=>l.jsx(ee,{status:s})},{label:"关联设备",key:"deviceID",render:s=>{if(!s)return"-";const h=f==null?void 0:f.find(i=>i.id===s);return h?h.name:s}},{label:"开始日期",key:"startTime"},{label:"结束日期",key:"expireTime"},{label:"最大设备数",key:"maxDevices"},{label:"功能权限",key:"features",render:s=>(s||[]).join(", ")},{label:"备注",key:"description"},{label:"创建时间",key:"createdAt"},{label:"更新时间",key:"updatedAt"}]}),l.jsx(Me,{title:"吊销许可证",content:"确定要吊销此许可证吗？吊销后，该许可证将无法使用。",visible:o,onConfirm:L,onCancel:()=>{u(!1),y(null)}}),l.jsx(Z,{title:"验证许可证",open:p,onOk:g,onCancel:()=>{x(!1),S.resetFields()},children:l.jsx(C,{form:S,layout:"vertical",children:l.jsx(C.Item,{name:"code",label:"许可证码",rules:[{required:!0,message:"请输入许可证码"}],children:l.jsx(G,{placeholder:"请输入要验证的许可证码"})})})})]})}export{dt as default};
